<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Welcome to zhangwp's blog."><meta name=author content="Wanpeng Zhang"><link href=https://www.zhangwp.com/notes/book-reading/RLAI/RLAI_6/ rel=canonical><link href=../RLAI_5/ rel=prev><link href=../RLAI_7/ rel=next><link rel=icon href=../../../../_static/images/favicon.svg><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.1.6"><title>Chapter 6 - ZHANGWP</title><link rel=stylesheet href=../../../../assets/stylesheets/main.ded33207.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.a0c5b2b5.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Sans+SC:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Noto Sans SC";--md-code-font:"Fira Code"}</style><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=light-blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#- class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title=ZHANGWP class="md-header__button md-logo" aria-label=ZHANGWP data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M9.4 86.6c-12.5-12.5-12.5-32.7 0-45.2s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6zM256 416h288c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ZHANGWP </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Chapter 6 </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/zawnpn/ZHANGWP title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M80 104a24 24 0 1 0 0-48 24 24 0 1 0 0 48zm80-24c0 32.8-19.7 61-48 73.3v87.8c18.8-10.9 40.7-17.1 64-17.1h96c35.3 0 64-28.7 64-64v-6.7c-28.3-12.3-48-40.5-48-73.3 0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3v6.7c0 70.7-57.3 128-128 128h-96c-35.3 0-64 28.7-64 64v6.7c28.3 12.3 48 40.5 48 73.3 0 44.2-35.8 80-80 80S0 476.2 0 432c0-32.8 19.7-61 48-73.3V153.3C19.7 141 0 112.8 0 80 0 35.8 35.8 0 80 0s80 35.8 80 80zm232 0a24 24 0 1 0-48 0 24 24 0 1 0 48 0zM80 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../ class="md-tabs__link md-tabs__link--active"> Note </a> </li> <li class=md-tabs__item> <a href=../../../../share/ class=md-tabs__link> Share </a> </li> <li class=md-tabs__item> <a href=../../../../other/ class=md-tabs__link> Other </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title=ZHANGWP class="md-nav__button md-logo" aria-label=ZHANGWP data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M9.4 86.6c-12.5-12.5-12.5-32.7 0-45.2s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6zM256 416h288c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg> </a> ZHANGWP </label> <div class=md-nav__source> <a href=https://github.com/zawnpn/ZHANGWP title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M80 104a24 24 0 1 0 0-48 24 24 0 1 0 0 48zm80-24c0 32.8-19.7 61-48 73.3v87.8c18.8-10.9 40.7-17.1 64-17.1h96c35.3 0 64-28.7 64-64v-6.7c-28.3-12.3-48-40.5-48-73.3 0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3v6.7c0 70.7-57.3 128-128 128h-96c-35.3 0-64 28.7-64 64v6.7c28.3 12.3 48 40.5 48 73.3 0 44.2-35.8 80-80 80S0 476.2 0 432c0-32.8 19.7-61 48-73.3V153.3C19.7 141 0 112.8 0 80 0 35.8 35.8 0 80 0s80 35.8 80 80zm232 0a24 24 0 1 0-48 0 24 24 0 1 0 48 0zM80 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> Home <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../.. class=md-nav__link> Home </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Note <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Note </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ class=md-nav__link> Index </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> Paper Reading <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Paper Reading </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_1> <label class=md-nav__link for=__nav_2_2_1 id=__nav_2_2_1_label tabindex=0> Model-based RL <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_1> <span class="md-nav__icon md-icon"></span> Model-based RL </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../paper-reading/MBRL_with_uncertainty/ class=md-nav__link> MBRL with uncertainty </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_2> <label class=md-nav__link for=__nav_2_2_2 id=__nav_2_2_2_label tabindex=0> RL Control <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_2> <span class="md-nav__icon md-icon"></span> RL Control </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../paper-reading/MCTS_introduction/ class=md-nav__link> MCTS introduction </a> </li> <li class=md-nav__item> <a href=../../../paper-reading/background_and_decision-time_planning/ class=md-nav__link> Background and decision-time planning </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3 checked> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> Book Reading <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Book Reading </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_1 checked> <label class=md-nav__link for=__nav_2_3_1 id=__nav_2_3_1_label tabindex=0> Reinforcement Learning An Introduction <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3_1> <span class="md-nav__icon md-icon"></span> Reinforcement Learning An Introduction </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../RLAI_2/ class=md-nav__link> Chapter 2 </a> </li> <li class=md-nav__item> <a href=../RLAI_3/ class=md-nav__link> Chapter 3 </a> </li> <li class=md-nav__item> <a href=../RLAI_4/ class=md-nav__link> Chapter 4 </a> </li> <li class=md-nav__item> <a href=../RLAI_5/ class=md-nav__link> Chapter 5 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Chapter 6 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Chapter 6 </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#61-td-prediction class=md-nav__link> 6.1 TD Prediction </a> </li> <li class=md-nav__item> <a href=#62-advantages-of-td-prediction-methods class=md-nav__link> 6.2 Advantages of TD Prediction Methods </a> <nav class=md-nav aria-label="6.2 Advantages of TD Prediction Methods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 优点 </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 收敛性 </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 效率对比 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#63-optimality-of-td0 class=md-nav__link> 6.3 Optimality of TD(0) </a> <nav class=md-nav aria-label="6.3 Optimality of TD(0)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#batch-update class=md-nav__link> 批量更新（Batch Update） </a> </li> <li class=md-nav__item> <a href=#certainty-equivalence-estimate class=md-nav__link> Certainty-Equivalence Estimate </a> <nav class=md-nav aria-label="Certainty-Equivalence Estimate"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 例子 </a> </li> <li class=md-nav__item> <a href=#td0-methods class=md-nav__link> TD(0) methods </a> </li> <li class=md-nav__item> <a href=#mc-methods class=md-nav__link> MC methods </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> 确定性等价估计 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#64-65-66-td-control class=md-nav__link> 6.4 &amp; 6.5 &amp; 6.6 TD Control </a> <nav class=md-nav aria-label="6.4 & 6.5 & 6.6 TD Control"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sarsa class=md-nav__link> Sarsa 算法 </a> </li> <li class=md-nav__item> <a href=#q-learning class=md-nav__link> Q-learning 算法 </a> </li> <li class=md-nav__item> <a href=#expected-sarsa class=md-nav__link> Expected Sarsa 算法 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#67-maximization-bias-and-double-learning class=md-nav__link> 6.7 Maximization Bias and Double Learning </a> <nav class=md-nav aria-label="6.7 Maximization Bias and Double Learning"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#double-learning class=md-nav__link> Double Learning </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#68-games-afterstates-and-other-special-cases class=md-nav__link> 6.8 Games, Afterstates, and Other Special Cases </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../RLAI_7/ class=md-nav__link> Chapter 7 </a> </li> <li class=md-nav__item> <a href=../RLAI_8/ class=md-nav__link> Chapter 8 </a> </li> <li class=md-nav__item> <a href=../RLAI_9/ class=md-nav__link> Chapter 9 </a> </li> <li class=md-nav__item> <a href=../RLAI_10/ class=md-nav__link> Chapter 10 </a> </li> <li class=md-nav__item> <a href=../RLAI_11/ class=md-nav__link> Chapter 11 </a> </li> <li class=md-nav__item> <a href=../RLAI_12/ class=md-nav__link> Chapter 12 </a> </li> <li class=md-nav__item> <a href=../RLAI_13/ class=md-nav__link> Chapter 13 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Share <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Share </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/ class=md-nav__link> Index </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> Projects <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Projects </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1> <label class=md-nav__link for=__nav_3_2_1 id=__nav_3_2_1_label tabindex=0> AI <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_1> <span class="md-nav__icon md-icon"></span> AI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/projects/rl_runfast/ class=md-nav__link> RL Runfast </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_2> <label class=md-nav__link for=__nav_3_2_2 id=__nav_3_2_2_label tabindex=0> Typesetting <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> Typesetting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/projects/markdown-toolkit/ class=md-nav__link> Markdown 编译转换工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_3> <label class=md-nav__link for=__nav_3_2_3 id=__nav_3_2_3_label tabindex=0> NKU <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_3> <span class="md-nav__icon md-icon"></span> NKU </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/projects/nku-eamis/ class=md-nav__link> NKU-EAMIS工具 </a> </li> <li class=md-nav__item> <a href=../../../../share/projects/nku-sms-rss/ class=md-nav__link> NKU-SMS-RSS </a> </li> <li class=md-nav__item> <a href=../../../../share/projects/eamis-miniapp/ class=md-nav__link> NKU-EAMIS_MiniApp(南开大学教务助手小程序) </a> </li> <li class=md-nav__item> <a href=../../../../share/projects/eamis-workflow/ class=md-nav__link> NKU-EAMIS for iOS(Workflow) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_4> <label class=md-nav__link for=__nav_3_2_4 id=__nav_3_2_4_label tabindex=0> Game <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_4> <span class="md-nav__icon md-icon"></span> Game </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/projects/steam-market-price-bot/ class=md-nav__link> Steam市场比价爬虫 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> Diary <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Diary </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/roc-fly/ class=md-nav__link> 鹏程万里 </a> </li> <li class=md-nav__item> <a href=../../../../share/blog-history/ class=md-nav__link> 博客历史 </a> </li> <li class=md-nav__item> <a href=../../../../share/game-log/ class=md-nav__link> Game-Log </a> </li> <li class=md-nav__item> <a href=../../../../share/my-postgraduate-share/ class=md-nav__link> 保研推免经验分享 - 数学系跨保 CS </a> </li> <li class=md-nav__item> <a href=../../../../share/github-student-pack/ class=md-nav__link> Student Developer Pack - GitHub Education </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> 数学建模 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> 数学建模 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/2017-mcm-icm/ class=md-nav__link> 2017美赛参赛整理(Problem D) </a> </li> <li class=md-nav__item> <a href=../../../../share/2016-guosai/ class=md-nav__link> 2016数学建模国赛 </a> </li> <li class=md-nav__item> <a href=../../../../share/math-model-szb/ class=md-nav__link> 数学建模之2016深圳杯——初次尝试 </a> </li> <li class=md-nav__item> <a href=../../../../share/polygon-to-ellipse/ class=md-nav__link> 随机多边形转化为椭圆的过程研究 </a> </li> <li class=md-nav__item> <a href=../../../../share/FFT-GPU-Accel/ class=md-nav__link> FFT-GPU-Accel </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> NKU 数院试题整理 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> NKU 数院试题整理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/nku-sms-exams/ class=md-nav__link> 南开数院 - 试题汇总 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5_2> <label class=md-nav__link for=__nav_3_5_2 id=__nav_3_5_2_label tabindex=0> 分析 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5_2> <span class="md-nav__icon md-icon"></span> 分析 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/exam/functional-analysis-final/ class=md-nav__link> 2017-2018第一学期泛函分析期末考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/real-variable-function/ class=md-nav__link> 2016-2017第二学期实变函数期末考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/mathematical-analysis-3-3-final/ class=md-nav__link> 2016-2017第一学期数学分析3-3期末考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/complex-analysis-final/ class=md-nav__link> 2016-2017第一学期复变函数期末考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/mathematical-analysis-3-3-middle/ class=md-nav__link> 2016-2017第一学期数学分析3-3期中考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/mathematical-analysis-3-2-final/ class=md-nav__link> 2015-2016第二学期数学分析3-2期末考试（含解答） </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/mathematical-analysis-3-2-middle/ class=md-nav__link> 2015-2016第二学期数学分析3-2期中考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/mathematical-analysis-3-1-final/ class=md-nav__link> 2015-2016第一学期数学分析3-1期末考试 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5_3> <label class=md-nav__link for=__nav_3_5_3 id=__nav_3_5_3_label tabindex=0> 代数 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5_3> <span class="md-nav__icon md-icon"></span> 代数 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/exam/abstract-algebra-final/ class=md-nav__link> 2016-2017第一学期抽象代数期末考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/abstract-algebra-middle/ class=md-nav__link> 2016-2017第一学期抽象代数期中考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/advanced-algebra-2-2-final/ class=md-nav__link> 2015-2016第二学期高等代数2-2期末考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/advanced-algebra-2-2-middle/ class=md-nav__link> 2015-2016第二学期高等代数2-2期中考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/advanced-algebra-2-1-final/ class=md-nav__link> 2015-2016第一学期高等代数2-1期末考试 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5_4> <label class=md-nav__link for=__nav_3_5_4 id=__nav_3_5_4_label tabindex=0> 概率统计 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5_4> <span class="md-nav__icon md-icon"></span> 概率统计 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/exam/probability-final/ class=md-nav__link> 2016-2017第二学期概率论期末考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/probability-middle/ class=md-nav__link> 2016-2017第二学期概率论期中考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/statistical-decision/ class=md-nav__link> 2020-2021第二学期统计决策期末考试(不完全回忆版) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5_5> <label class=md-nav__link for=__nav_3_5_5 id=__nav_3_5_5_label tabindex=0> 微分方程 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5_5> <span class="md-nav__icon md-icon"></span> 微分方程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/exam/PDE-final/ class=md-nav__link> 2017-2018第一学期数理方程期末考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/ODE-final/ class=md-nav__link> 2016-2017第一学期常微分方程期末考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/ODE-middle/ class=md-nav__link> 2016-2017第一学期常微分方程期中考试 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5_6> <label class=md-nav__link for=__nav_3_5_6 id=__nav_3_5_6_label tabindex=0> 机器学习导论 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_5_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5_6> <span class="md-nav__icon md-icon"></span> 机器学习导论 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/exam/machine-learning-final/ class=md-nav__link> 2020-2021第一学期机器学习导论期末考试 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5_7> <label class=md-nav__link for=__nav_3_5_7 id=__nav_3_5_7_label tabindex=0> 优化 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5_7> <span class="md-nav__icon md-icon"></span> 优化 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/exam/convex-optimization/ class=md-nav__link> 2020-2021第二学期最优化方法期末考试 </a> </li> <li class=md-nav__item> <a href=../../../../share/exam/discrete-optimization/ class=md-nav__link> 2020-2021第二学期离散优化期末考试 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5_8> <label class=md-nav__link for=__nav_3_5_8 id=__nav_3_5_8_label tabindex=0> GPU程序设计 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_5_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5_8> <span class="md-nav__icon md-icon"></span> GPU程序设计 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/exam/GPU-programming/ class=md-nav__link> 2020-2021第二学期GPU程序设计期末考试 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> Tips <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Tips </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../share/tips/to-do/ class=md-nav__link> To Do </a> </li> <li class=md-nav__item> <a href=../../../../share/tips/python/ class=md-nav__link> Python </a> </li> <li class=md-nav__item> <a href=../../../../share/tips/data-processing/ class=md-nav__link> Data Processing </a> </li> <li class=md-nav__item> <a href=../../../../share/tips/git/ class=md-nav__link> Git </a> </li> <li class=md-nav__item> <a href=../../../../share/tips/linux/ class=md-nav__link> Linux </a> </li> <li class=md-nav__item> <a href=../../../../share/tips/win/ class=md-nav__link> Windows </a> </li> <li class=md-nav__item> <a href=../../../../share/tips/mac/ class=md-nav__link> macOS </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> Other <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Other </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../other/ class=md-nav__link> Other </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#61-td-prediction class=md-nav__link> 6.1 TD Prediction </a> </li> <li class=md-nav__item> <a href=#62-advantages-of-td-prediction-methods class=md-nav__link> 6.2 Advantages of TD Prediction Methods </a> <nav class=md-nav aria-label="6.2 Advantages of TD Prediction Methods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 优点 </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 收敛性 </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 效率对比 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#63-optimality-of-td0 class=md-nav__link> 6.3 Optimality of TD(0) </a> <nav class=md-nav aria-label="6.3 Optimality of TD(0)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#batch-update class=md-nav__link> 批量更新（Batch Update） </a> </li> <li class=md-nav__item> <a href=#certainty-equivalence-estimate class=md-nav__link> Certainty-Equivalence Estimate </a> <nav class=md-nav aria-label="Certainty-Equivalence Estimate"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 例子 </a> </li> <li class=md-nav__item> <a href=#td0-methods class=md-nav__link> TD(0) methods </a> </li> <li class=md-nav__item> <a href=#mc-methods class=md-nav__link> MC methods </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> 确定性等价估计 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#64-65-66-td-control class=md-nav__link> 6.4 &amp; 6.5 &amp; 6.6 TD Control </a> <nav class=md-nav aria-label="6.4 & 6.5 & 6.6 TD Control"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sarsa class=md-nav__link> Sarsa 算法 </a> </li> <li class=md-nav__item> <a href=#q-learning class=md-nav__link> Q-learning 算法 </a> </li> <li class=md-nav__item> <a href=#expected-sarsa class=md-nav__link> Expected Sarsa 算法 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#67-maximization-bias-and-double-learning class=md-nav__link> 6.7 Maximization Bias and Double Learning </a> <nav class=md-nav aria-label="6.7 Maximization Bias and Double Learning"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#double-learning class=md-nav__link> Double Learning </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#68-games-afterstates-and-other-special-cases class=md-nav__link> 6.8 Games, Afterstates, and Other Special Cases </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=->强化学习导论（六）- 时序差分学习<a class=headerlink href=#- title="Permanent link">&para;</a></h1> <p>本章在上一章的基础上，进一步介绍了新的方法：<strong>时序差分学习</strong>（Temporal-Difference learning），简称 TD Learning。</p> <p>时序差分学习可以看作蒙特卡罗（MC）和动态规划（DP）的一种结合：</p> <ul> <li>和 MC 的相似之处在于，TD 方法从实际的经验来获取信息，无需获知环境的全部信息。</li> <li>和 DP 的相似之处在于，TD 方法能够利用上之前已知的信息来做实时学习，无需等得到完整的收益反馈再进行估值更新。</li> </ul> <p>本章同样基于 <strong>GPI 模型</strong>，来介绍基于时序差分学习（TD learning）的算法。</p> <h2 id=61-td-prediction>6.1 TD Prediction<a class=headerlink href=#61-td-prediction title="Permanent link">&para;</a></h2> <p>我们先对比看看上一章的 MC 算法（固定<span class=arithmatex>\(\alpha\)</span>）和本章的 TD 算法的核心公式：</p> <p><strong>constant-<span class=arithmatex>\(\alpha\)</span> MC:</strong></p> <div class=arithmatex>\[ V(S_t)\leftarrow V(S_t)+\alpha\left[G_t-V(S_t)\right] \]</div> <p><strong>TD(0) (one-step TD):</strong></p> <div class=arithmatex>\[ V(S_t)\leftarrow V(S_t)+\alpha\left[R_{t+1}+\gamma V(S_{t+1})-V(S_t)\right] \]</div> <ul> <li>MC 方法必须等待整个 episode 结束后得到 <span class=arithmatex>\(G_t\)</span> 才能做一次更新。</li> <li>TD 方法则只需等到这一步结束，利用实时观测到的奖励值 <span class=arithmatex>\(R_{t+1}\)</span> 和现有估计值 <span class=arithmatex>\(V(S_{t+1})\)</span> 来进行更新。</li> </ul> <p><em>这里的 TD(0) 方法指</em><em>单步 TD 方法</em><em>，括号里的 0 改为其他数字后又指其他算法，将会在后面章节介绍。</em></p> <p>我们在第二章讲过，这样的更新式可以更广义地写作</p> <div class=arithmatex>\[ NewEstimate\leftarrow OldEstimate+StepSize\left[Target-OldEstimate\right] \]</div> <p>将括号中的式子看作是一种误差，便可将这样的更新式看作是不断地在消除误差。我们将 TD 方法中的这个误差定义为 <strong>TD error:</strong></p> <div class=arithmatex>\[ \delta_t\doteq R_{t+1}+\gamma V(S_{t+1})-V(S_t) \]</div> <h2 id=62-advantages-of-td-prediction-methods>6.2 Advantages of TD Prediction Methods<a class=headerlink href=#62-advantages-of-td-prediction-methods title="Permanent link">&para;</a></h2> <h3 id=_1>优点<a class=headerlink href=#_1 title="Permanent link">&para;</a></h3> <ul> <li>无须获知环境的具体模型。</li> <li>通过一种在线的、完全实时的方式来进行增量更新。</li> <li>如果 episodes 太长，或者是连续型任务，MC 方法将会有很严重的延迟问题，TD 方法能够解决这种问题。</li> </ul> <h3 id=_2>收敛性<a class=headerlink href=#_2 title="Permanent link">&para;</a></h3> <p>给定策略 <span class=arithmatex>\(\pi\)</span> ，满足一定条件的情况下，能够证明 TD(0) 方法能确保 <span class=arithmatex>\(v\)</span> 收敛到 <span class=arithmatex>\(v_\pi\)</span>：</p> <div class=arithmatex>\[ \sum_{k=1}^{\infty}\alpha=\infty\qquad \mathrm{and}\qquad\sum_{k=1}^{\infty}\alpha^2&lt;\infty \]</div> <p>这个结果是来自随机逼近方面的理论，我们在第二章也提到过。需要注意的是，这只是其收敛的一个必要条件，一些情况下即使不满足，也一样能收敛。</p> <h3 id=_3>效率对比<a class=headerlink href=#_3 title="Permanent link">&para;</a></h3> <ul> <li>目前还没能从数学上证明哪个方法（TD &amp; MC）收敛得更快。</li> <li>实际情况下，对于随机性的任务，TD 方法通常收敛得比 constant-<span class=arithmatex>\(\alpha\)</span> MC 方法要快一些。</li> </ul> <p><strong>一个例子</strong>:</p> <p><img alt src=../imgs/RLAI_6/rand-walk.png></p> <p>问题的背景就是从中间结点 C 出发，若能达到右边的终止态，返回奖励值 1，其余情况均返回奖励值 0。我们用 <span class=arithmatex>\(P_i\)</span> 来表示当我们处于状态 i 下，最终能到达右终止态的概率，易知</p> <div class=arithmatex>\[ \begin{cases} P_a=\dfrac{1}{2}P_b+\dfrac{1}{2}\times 0\\ P_b=\dfrac{1}{2}P_a+\dfrac{1}{2}P_c\\ P_c=\dfrac{1}{2}P_b+\dfrac{1}{2}P_d\\ P_d=\dfrac{1}{2}P_c+\dfrac{1}{2}P_e\\ P_e=\dfrac{1}{2}P_d+\dfrac{1}{2}\times 1\\ \end{cases} \]</div> <p>解上述方程，可得</p> <div class=arithmatex>\[ P_a=\frac{1}{6},P_b=\frac{2}{6},P_c=\frac{3}{6},P_d=\frac{4}{6},P_e=\frac{5}{6} \]</div> <p>由于到达右终止态的 reward 是 1，那么乘上这个奖励值，最终的期望值其实就等于这些概率</p> <div class=arithmatex>\[ V(A)=\frac{1}{6},V(B)=\frac{2}{6},V(C)=\frac{3}{6},V(D)=\frac{4}{6},V(E)=\frac{5}{6} \]</div> <p>那么，在这个问题背景下，我们的算法表现如何呢？</p> <p><img alt src=../imgs/RLAI_6/rand-walk-result.png></p> <ul> <li>左图描绘了 TD(0) 算法下经过 n 个 episodes 后得到的估计值，可以看出，100 次训练后，估计值已经非常接近真实值了。</li> <li>右图对比了两种算法在不同 <span class=arithmatex>\(\alpha\)</span> 取值下的误差收敛曲线。可以看出，至少在该例中，TD 方法确实要优于 MC 方法。</li> </ul> <h2 id=63-optimality-of-td0>6.3 Optimality of TD(0)<a class=headerlink href=#63-optimality-of-td0 title="Permanent link">&para;</a></h2> <h3 id=batch-update>批量更新（Batch Update）<a class=headerlink href=#batch-update title="Permanent link">&para;</a></h3> <div class=arithmatex>\[ V(S_t)\leftarrow V(S_t)+\alpha\left[G_t-V(S_t)\right]\\ V(S_t)\leftarrow V(S_t)+\alpha\left[R_{t+1}+\gamma V(S_{t+1})-V(S_t)\right] \]</div> <p>对于上面这样的更新式，我们有时也可通过<strong>批量更新（Batch Update）</strong>来进行更新操作：</p> <ul> <li>每一步 t 我们仍按照原来的步骤做计算，求出增量（也就误差值）。</li> <li>先不执行更新，而是将增量（误差值）累积起来。</li> <li>当一整批训练数据都按上述步骤处理完后，再统一将增量更新到目标值上。</li> </ul> <h3 id=certainty-equivalence-estimate>Certainty-Equivalence Estimate<a class=headerlink href=#certainty-equivalence-estimate title="Permanent link">&para;</a></h3> <h4 id=_4>例子<a class=headerlink href=#_4 title="Permanent link">&para;</a></h4> <p>给定 8 个 episodes 作为一个 batch：</p> <div class=arithmatex>\[ \begin{aligned} (A,0,B,0)\qquad&amp;(B,1)&amp;(B,1)\qquad&amp;(B,1)\\ (B,1)\qquad&amp;(B,1)&amp;(B,1)\qquad&amp;(B,0) \end{aligned} \]</div> <p>很显然，可以看出 <span class=arithmatex>\(V(B)=\frac{3}{4}\)</span> ，而 <span class=arithmatex>\(V(A)\)</span> 则有两种答案，在 TD 方法下 <span class=arithmatex>\(V(A)=\frac{3}{4}\)</span> ，而对于 MC ，<span class=arithmatex>\(V(A)=0\)</span> 。为什么会发生这样的情况呢？我们先来按照两种方法模拟计算一下：</p> <h4 id=td0-methods>TD(0) methods<a class=headerlink href=#td0-methods title="Permanent link">&para;</a></h4> <div class=arithmatex>\[ V_0(A)=V_0(B)=V(T)=0\\ \alpha_a=1,\alpha_b=\frac{1}{8},\gamma=1 \]</div> <div class=arithmatex>\[ \begin{aligned} (1)&amp;{\begin{cases} \delta_1(A)=R_0+V_0(B)-V_0(A)=0+0-0=0\\ \delta_1(B)=\sum_{i}\left[R_{0i}+V(T)-V_0(B)\right]=6+0-0=6\\ V_1(A)=V_0(A)+1\times\delta_1(A)=0\\ V_1(B)=V_0(B)+\frac{1}{8}\delta_1(B)=\frac{3}{4} \end{cases}}\\ (2)&amp;{\begin{cases} \delta_2(A)=R_1+V_1(B)-V_1(A)=0+\frac{3}{4}-0=\frac{3}{4}\\ \delta_2(B)=\sum_{i}\left[R_{1i}+V(T)-V_1(B)\right]=6+0-\frac{8\times3}{4}=0\\ V_2(A)=V_1(A)+1\times\delta_2(A)=\frac{3}{4}\\ V_2(B)=V_1(B)+\frac{1}{8}\delta_2(B)=\frac{3}{4} \end{cases}}\\ \vdots\\ (n)&amp;{\begin{cases} \delta_n(A)=0,\delta_n(B)=0\\ V_n(A)=\frac{3}{4},V_n(B)=\frac{3}{4} \end{cases}} \end{aligned} \]</div> <p><img alt src=../imgs/RLAI_6/batch-update-td0.png></p> <h4 id=mc-methods>MC methods<a class=headerlink href=#mc-methods title="Permanent link">&para;</a></h4> <div class=arithmatex>\[ V_0(A)=V_0(B)=V(T)=0\\ \alpha_a=\alpha_b=\frac{1}{8},\gamma=1 \]</div> <div class=arithmatex>\[ \begin{aligned} (1)&amp;{\begin{cases} \delta_1(A)=G_1(A)-V_0(A)=0-0=0\\ \delta_1(B)=\sum_{i}\left[G_{0i}-V_0(B)\right]=6-0=6\\ V_1(A)=V_0(A)+\frac{1}{8}\delta_1(A)=0\\ V_1(B)=V_0(B)+\frac{1}{8}\delta_1(B)=\frac{3}{4} \end{cases}}\\ (2)&amp;{\begin{cases} \delta_2(A)=G_1(A)-V_1(A)=0-0=0\\ \delta_2(B)=\sum_{i}\left[G_{2i}-V_1(B)\right]=6-6=0\\ V_1(A)=V_0(A)+\frac{1}{8}\delta_1(A)=0\\ V_1(B)=V_0(B)+\frac{1}{8}\delta_1(B)=\frac{3}{4} \end{cases}}\\ \vdots\\ (n)&amp;{\begin{cases} \delta_n(A)=0,\delta_n(B)=0\\ V_n(A)=0,V_n(B)=\frac{3}{4} \end{cases}} \end{aligned} \]</div> <h4 id=_5>确定性等价估计<a class=headerlink href=#_5 title="Permanent link">&para;</a></h4> <ul> <li>MC 方法本质上是对<strong>训练集</strong>给出了<strong>最小均方误差估计</strong>，在我们这个例子中，A 出现了的 episode 只有一个，而恰好其最终返回值 <span class=arithmatex>\(G(A)=0\)</span> ，MC 方法基于这段经验就认为 <span class=arithmatex>\(V(A)=0\)</span> ，这就显得有点「过拟合」了——过于追求训练集上的最小误差，而没有充分考虑综合因素。</li> <li>TD(0) 方法则是给出了<strong>极大似然估计</strong>：<span class=arithmatex>\(\hat{\theta}=\mathop{\arg\max}\limits_\theta p(\theta|\mathbf{x})\)</span> 。此处的极大似然估计不是某个具体的参数，而是基于观测数据形成的马尔可夫过程<strong>模型</strong>。极大似然估计其实就是<strong>给定数据的最大生成概率的对应估计</strong>，也就是说，前面的这个模型包含了对状态转移概率、奖励值等信息的正确估计，一旦给定正确的信息，它就能作出合理的估计。我们称这样的估计为<strong>确定性等价估计（Certainty-Equivalence Estimate）</strong>。</li> </ul> <p>而 TD 方法之所以通常比 MC 收敛得更快，正是因为它是确定性等价估计，更加稳健高效。</p> <h2 id=64-65-66-td-control>6.4 &amp; 6.5 &amp; 6.6 TD Control<a class=headerlink href=#64-65-66-td-control title="Permanent link">&para;</a></h2> <p>这三节均是基于 GPI 介绍具体的 TD 算法，由于三种算法本质相近，故将三节合在一起说。</p> <p>前面提到，我们要按照下面的形式来更新目标值</p> <div class=arithmatex>\[ Q(S_t,A_t)\leftarrow Q(S_t,A_t)+\alpha\left[R_{t+1}+\gamma\hat{Q}(S_{t+1},A_{t+1})-Q(S_t,A_t)\right] \]</div> <p>注意到更新式中我们把 <span class=arithmatex>\(Q\)</span> 写作 <span class=arithmatex>\(\hat{Q}\)</span> ，统一表示对 <span class=arithmatex>\(Q\)</span> 的估计，可以是原有的估计方式 <span class=arithmatex>\(Q(S_{t+1},A_{t+1})\)</span> ，也可以是其他的估计，在这三节里，不同的估计方法就分别对应了不同的算法，那为什么要这样做呢？</p> <p>我们前面介绍的 TD 算法是在拿旧的 <span class=arithmatex>\(Q_{old}\)</span> 计算误差：</p> <div class=arithmatex>\[ R_{t+1}+\gamma Q_{old}(S_{t+1},A_{t+1})-Q_{old}(S_t,A_t) \]</div> <p>但我们本应用 <span class=arithmatex>\(Q_{new}\)</span> 来计算：</p> <div class=arithmatex>\[ R_{t+1}+\gamma Q_{new}(S_{t+1},A_{t+1})-Q_{old}(S_t,A_t) \]</div> <p>这种直接采用旧的估计值来更新 target 的方法，稍加分析能够发现其实就是统计学里的<strong>自助抽样法（bootstrap)</strong>——有放回地重新抽样。回到前面的问题，为什么要这样做？在我们重新抽样后，有人认为应按原有方式继续那样计算，也有人认为那样计算不能很好地代表 <span class=arithmatex>\(Q_{new}\)</span> ，所以，在不同的见解下，对这个估计值 <span class=arithmatex>\(\hat{Q}\)</span> 做不同的调整，形成了不同的算法。</p> <h3 id=sarsa>Sarsa 算法<a class=headerlink href=#sarsa title="Permanent link">&para;</a></h3> <p>若 <span class=arithmatex>\(\hat{Q}(S_{t+1},A_{t+1})=Q(S_{t+1},A_{t+1})\)</span> ，这时的 TD 算法称为 Sarsa ，其更新式为</p> <div class=arithmatex>\[ Q(S_t,A_t)\leftarrow Q(S_t,A_t)+\alpha\left[R_{t+1}+\gamma Q(S_{t+1},A_{t+1})-Q(S_t,A_t)\right] \]</div> <ul> <li>由于算法的每次更新需要用到数据组合 <span class=arithmatex>\((S_t,A_t,R_{t+1},S_{t+1},A_{t+1})\)</span> ，故取其字母组成其名字 SARSA ，称为 Sarsa 算法。</li> <li>显然，Sarsa 是 On-policy 的算法，且和 MC 相似，需要确保各状态都被访问足够多次数才能收敛，因此一般都用于 <span class=arithmatex>\(\varepsilon\)</span>-greedy 或 <span class=arithmatex>\(\varepsilon\)</span>-soft 策略。</li> </ul> <p><img alt src=../imgs/RLAI_6/sarsa.png></p> <h3 id=q-learning>Q-learning 算法<a class=headerlink href=#q-learning title="Permanent link">&para;</a></h3> <p>若 <span class=arithmatex>\(\hat{Q}(S_{t+1},A_{t+1})=\max\limits_aQ(S_{t+1},a)\)</span> ，这时的 TD 算法称为 Q-learning ，其更新式为</p> <div class=arithmatex>\[ Q(S_t,A_t)\leftarrow Q(S_t,A_t)+\alpha\left[R_{t+1}+\gamma \max\limits_aQ(S_{t+1},a)-Q(S_t,A_t)\right] \]</div> <p>易分析知，我们是从所有的 <span class=arithmatex>\(Q(S_{t+1},a)\)</span> 中直接<strong>选取</strong>了最大值来更新（而不是像前面的 Sarsa 一样还需往前实际走一步 <span class=arithmatex>\(A_{t+1}\)</span>）就能完成更新， 更新之后，我们可以任意采取其他策略来做 exploration actions ，所以 Q-learning 是 Off-policy 方法。</p> <p><img alt src=../imgs/RLAI_6/q-learning.png></p> <h3 id=expected-sarsa>Expected Sarsa 算法<a class=headerlink href=#expected-sarsa title="Permanent link">&para;</a></h3> <p>若 <span class=arithmatex>\(\hat{Q}(S_{t+1},A_{t+1})=\mathbb{E}_\pi\left[Q(S_{t+1},A_{t+1})\mid S_{t+1}\right]\)</span> ，这时的 TD 算法称为 Expected Sarsa ，其更新式为</p> <div class=arithmatex>\[ \begin{aligned} Q(S_t,A_t)&amp;\leftarrow Q(S_t,A_t)+\alpha\left[R_{t+1}+\gamma \mathbb{E}_\pi\left[Q(S_{t+1},A_{t+1})\mid S_{t+1}\right]-Q(S_t,A_t)\right]\\ &amp;\leftarrow Q(S_t,A_t)+\alpha\left[R_{t+1}+\gamma\sum_a\pi(a|S_{t+1})Q(S_{t+1},a) -Q(S_t,A_t)\right] \end{aligned} \]</div> <p>Expected Sarsa 可以看作是对 Sarsa 的一种改进，它只会略微增加计算上的消耗，但能降低方差，更加稳定。</p> <p>下面是一个具体的实验范例：</p> <p><img alt src=../imgs/RLAI_6/performance-compare.png></p> <ul> <li><strong>Asymptotic performance</strong>: 图中的 Asymptotic performance 指 100,000 个 episodes 之后的实验结果均值。</li> <li><strong>Interim performance</strong>: 图中的 Interim performance 指 100 个 episodes 之后的实验结果均值。</li> </ul> <p>从图中可以看出，即使 <span class=arithmatex>\(\alpha=1\)</span> ，Expected Sarsa 也一样能够收敛（此时其形式很接近 DP ），而 Sarsa 则只能在 <span class=arithmatex>\(\alpha\)</span> 较小时才有好的表现。</p> <p>Expected Sarsa 可以是 On-policy ，也可以是 Off-policy 。</p> <h2 id=67-maximization-bias-and-double-learning>6.7 Maximization Bias and Double Learning<a class=headerlink href=#67-maximization-bias-and-double-learning title="Permanent link">&para;</a></h2> <p>前面提到的许多算法都含有<strong>最大化</strong>的操作，通过这些最大化操作来逐步构建出最优策略，比如 Q-learning 中有 <span class=arithmatex>\(\max\limits_a Q(S_{t+1},a)\)</span> 、Sarsa 中也常有 <span class=arithmatex>\(\varepsilon\)</span>-greedy 策略，同样包含最大化操作。这些最大化操作常常会造成显著的正偏差。</p> <p>我们考虑一个例子：</p> <ul> <li>只有一个状态 s 。</li> <li>许多行动 a 的真实值 <span class=arithmatex>\(q(s,a)\)</span> 为 0 ，而估计值 <span class=arithmatex>\(Q(s,a)\)</span> 在 0 附近波动，可正可负。</li> <li>最大化操作下的估计值，很大概率会是正值，因此产生了正偏差。</li> </ul> <p>我们称上面这类的正偏差为 <strong>maximization bias</strong> 。</p> <p>显然我们是需要消除这样的偏差值，下面引入 Double Learning 来解决这一问题。</p> <h3 id=double-learning>Double Learning<a class=headerlink href=#double-learning title="Permanent link">&para;</a></h3> <p>首先看个例子</p> <p><img alt src=../imgs/RLAI_6/max-bias.png></p> <ul> <li>如上图右上角的示意图所示，每个 episode 均从状态 A 出发，能够选择的行动只有<strong>向左</strong>或者<strong>向右</strong>，对应的奖励值均为 0 。</li> <li>由于 <span class=arithmatex>\(R(B)\sim\mathcal N(-0.1,1)\)</span> ，易分析知，最后会有 <span class=arithmatex>\(V(left)=-0.1, V(right)=0\)</span> ，所以理论上只应该选择向右而不是向左。</li> </ul> <p>然而，在刚开始信息量不足时，向左的行动本应预期反馈 -0.1 左右的值，结果由于算法中的「最大化操作」，反而可能反馈了正的奖励值，导致此时模型更倾向于选择向左行动，如上图红线所示。从这个例子可以看出，正偏差带来的影响非常大，即使是很多次训练后，仍然有较大的误差偏离。因此，需要采用 Double Learning 来消除这一问题。</p> <p><strong>Double Learning</strong>:</p> <ul> <li>将样本分划为两个集合，并分别学习出独立的估计，简记作 <span class=arithmatex>\(Q_1(a), Q_2(a)\)</span> ，两者均是对真实值 <span class=arithmatex>\(q(a)\)</span> 的估计。</li> <li>用其中一个估计值来决定最优行动 <span class=arithmatex>\(A^*=\mathop{\arg\max}\limits_aQ_1(a)\)</span> 。</li> <li>通过另一个估计值来计算最优行动对应的值函数 <span class=arithmatex>\(Q_2(A^*)=Q_2(\mathop{\arg\max}\limits_aQ_1(a))\)</span> 。<span class=arithmatex>\(Q_2(A^*)\)</span> 是无偏估计，这是因为 <span class=arithmatex>\(\mathbb{E}[Q_2(A^*)]=q(A^*)\)</span> 。</li> <li>还可以重复一遍上述过程，并替换两个集合，得到另一个无偏估计 <span class=arithmatex>\(Q_1(\mathop{\arg\max}\limits_aQ_2(a))\)</span> 。</li> </ul> <p>这便是 <strong>double learning</strong> 的思想，能够消除 maxmization bias 造成的影响。理解起来很容易，第一次选出的 <span class=arithmatex>\(A^*\)</span> 可能代入 <span class=arithmatex>\(Q_1\)</span> 后得到 <span class=arithmatex>\(Q_1(A^*)=Q_1(\mathop{\arg\max}\limits_aQ_1(a))=\max\limits_aQ_1(a)\)</span> 为正值，但若代入另一个独立的估计函数 <span class=arithmatex>\(Q_2\)</span> 后，则显然其结果值不会再像前者那样能必然取到最大值。</p> <p><img alt src=../imgs/RLAI_6/double-q-learning.png></p> <p>容易分析知，Double learning 只会加倍内存需求，而不会给计算上带来额外的消耗。</p> <h2 id=68-games-afterstates-and-other-special-cases>6.8 Games, Afterstates, and Other Special Cases<a class=headerlink href=#68-games-afterstates-and-other-special-cases title="Permanent link">&para;</a></h2> <p>一些特殊情况下，我们可以在执行完行动后再去更新，比如下图这样的棋局，同一个局面可以由不同的情况达到，有着相同的期望收益。</p> <p><img alt src=../imgs/RLAI_6/tic.png></p> <p>我们称这种行动之后统一的状态为 <strong>Afterstates</strong> 。Afterstates 在一些特殊情况（比如上图这类游戏）很有用处，能够简化问题，大幅提升学习效率。</p> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 26, 2020</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2016-2023 ZHANGWP </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/zawnpn target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/zawnpn target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://www.linkedin.com/in/zawnpn/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://www.zhihu.com/people/zhangwanpeng target=_blank rel=noopener title=www.zhihu.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M170.54 148.13v217.54l23.43.01 7.71 26.37 42.01-26.37h49.53V148.13H170.54zm97.75 193.93h-27.94l-27.9 17.51-5.08-17.47-11.9-.04V171.75h72.82v170.31zm-118.46-94.39H97.5c1.74-27.1 2.2-51.59 2.2-73.46h51.16s1.97-22.56-8.58-22.31h-88.5c3.49-13.12 7.87-26.66 13.12-40.67 0 0-24.07 0-32.27 21.57-3.39 8.9-13.21 43.14-30.7 78.12 5.89-.64 25.37-1.18 36.84-22.21 2.11-5.89 2.51-6.66 5.14-14.53h28.87c0 10.5-1.2 66.88-1.68 73.44H20.83c-11.74 0-15.56 23.62-15.56 23.62h65.58C66.45 321.1 42.83 363.12 0 396.34c20.49 5.85 40.91-.93 51-9.9 0 0 22.98-20.9 35.59-69.25l53.96 64.94s7.91-26.89-1.24-39.99c-7.58-8.92-28.06-33.06-36.79-41.81L87.9 311.95c4.36-13.98 6.99-27.55 7.87-40.67h61.65s-.09-23.62-7.59-23.62v.01zm412.02-1.6c20.83-25.64 44.98-58.57 44.98-58.57s-18.65-14.8-27.38-4.06c-6 8.15-36.83 48.2-36.83 48.2l19.23 14.43zm-150.09-59.09c-9.01-8.25-25.91 2.13-25.91 2.13s39.52 55.04 41.12 57.45l19.46-13.73s-25.67-37.61-34.66-45.86h-.01zM640 258.35c-19.78 0-130.91.93-131.06.93v-101c4.81 0 12.42-.4 22.85-1.2 40.88-2.41 70.13-4 87.77-4.81 0 0 12.22-27.19-.59-33.44-3.07-1.18-23.17 4.58-23.17 4.58s-165.22 16.49-232.36 18.05c1.6 8.82 7.62 17.08 15.78 19.55 13.31 3.48 22.69 1.7 49.15.89 24.83-1.6 43.68-2.43 56.51-2.43v99.81H351.41s2.82 22.31 25.51 22.85h107.94v70.92c0 13.97-11.19 21.99-24.48 21.12-14.08.11-26.08-1.15-41.69-1.81 1.99 3.97 6.33 14.39 19.31 21.84 9.88 4.81 16.17 6.57 26.02 6.57 29.56 0 45.67-17.28 44.89-45.31v-73.32h122.36c9.68 0 8.7-23.78 8.7-23.78l.03-.01z"/></svg> </a> <a href=https://psnprofiles.com/zawnpn target=_blank rel=noopener title=psnprofiles.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M570.9 372.3c-11.3 14.2-38.8 24.3-38.8 24.3L327 470.2v-54.3l150.9-53.8c17.1-6.1 19.8-14.8 5.8-19.4-13.9-4.6-39.1-3.3-56.2 2.9L327 381.1v-56.4c23.2-7.8 47.1-13.6 75.7-16.8 40.9-4.5 90.9.6 130.2 15.5 44.2 14 49.2 34.7 38 48.9zm-224.4-92.5v-139c0-16.3-3-31.3-18.3-35.6-11.7-3.8-19 7.1-19 23.4v347.9l-93.8-29.8V32c39.9 7.4 98 24.9 129.2 35.4C424.1 94.7 451 128.7 451 205.2c0 74.5-46 102.8-104.5 74.6zM43.2 410.2c-45.4-12.8-53-39.5-32.3-54.8 19.1-14.2 51.7-24.9 51.7-24.9l134.5-47.8v54.5l-96.8 34.6c-17.1 6.1-19.7 14.8-5.8 19.4 13.9 4.6 39.1 3.3 56.2-2.9l46.4-16.9v48.8c-51.6 9.3-101.4 7.3-153.9-10z"/></svg> </a> <a href=https://steamcommunity.com/id/zawnpn/ target=_blank rel=noopener title=steamcommunity.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M496 256c0 137-111.2 248-248.4 248-113.8 0-209.6-76.3-239-180.4l95.2 39.3c6.4 32.1 34.9 56.4 68.9 56.4 39.2 0 71.9-32.4 70.2-73.5l84.5-60.2c52.1 1.3 95.8-40.9 95.8-93.5 0-51.6-42-93.5-93.7-93.5s-93.7 42-93.7 93.5v1.2L176.6 279c-15.5-.9-30.7 3.4-43.5 12.1L0 236.1C10.2 108.4 117.1 8 247.6 8 384.8 8 496 119 496 256zM155.7 384.3l-30.5-12.6a52.79 52.79 0 0 0 27.2 25.8c26.9 11.2 57.8-1.6 69-28.4 5.4-13 5.5-27.3.1-40.3-5.4-13-15.5-23.2-28.5-28.6-12.9-5.4-26.7-5.2-38.9-.6l31.5 13c19.8 8.2 29.2 30.9 20.9 50.7-8.3 19.9-31 29.2-50.8 21zm173.8-129.9c-34.4 0-62.4-28-62.4-62.3s28-62.3 62.4-62.3 62.4 28 62.4 62.3-27.9 62.3-62.4 62.3zm.1-15.6c25.9 0 46.9-21 46.9-46.8 0-25.9-21-46.8-46.9-46.8s-46.9 21-46.9 46.8c.1 25.8 21.1 46.8 46.9 46.8z"/></svg> </a> <a href=https://space.bilibili.com/38332230 target=_blank rel=noopener title=space.bilibili.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M0 256a256 256 0 1 1 512 0 256 256 0 1 1-512 0zm188.3-108.9c-7.6 4.2-12.3 12.3-12.3 20.9v176c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.tabs", "navigation.prune"], "search": "../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../../assets/javascripts/bundle.51198bba.min.js></script> <script src=../../../../_static/extra.js></script> <script src=//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js></script> <script src=//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script> </body> </html>